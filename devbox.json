{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.14.2/.schema/devbox.schema.json",
  "packages": [
    "python@3.13",
    "poetry@latest",
    "mdformat@latest",
    "dprint@latest"
  ],
  "shell": {
    "init_hook": [
      ". $VENV_DIR/bin/activate",
      "poetry install --no-root"
    ],
    "scripts": {
      "test": [
        "echo \"Error: no test specified\" && exit 1"
      ],
      "mypy": [
        "mypy ${@:-.}"
      ],
      "black": [
        "black ${@:-.}"
      ],
      "isort": [
        "isort --skip .venv --skip .devbox --skip .poetry ${@:-.}"
      ],
      "mdformat": [
        "mdformat ${@:-.}"
      ],
      "docker-build": [
        "docker buildx bake -f docker-compose.yml -f docker-compose.dev.yml"
      ],
      "run": [
        "poetry install --no-interaction  # Install package in editable mode for src layout development",
        "poetry run python -m pool_exporter"
      ]
    }
  }
}
